{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { Container } from \"styled-container-component\";\nimport { Column, Row } from \"styled-grid-system-component\";\nimport { Banner } from \"./banner/banner\";\nimport { Question } from \"./question/question-test\";\nimport { homeBanner } from \"./data\";\nimport { BaseUrl } from \"../url\";\nimport { Chat } from \"./chat/chat\";\nexport function ForumLayout(_ref) {\n  var queryName = _ref.queryName;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      query = _React$useState2[0],\n      setQuery = _React$useState2[1];\n\n  var _React$useState3 = React.useState(10),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      limt = _React$useState4[0],\n      setLimit = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      skip = _React$useState6[0],\n      setSkip = _React$useState6[1];\n\n  var myRef = React.useRef(null);\n\n  var _React$useState7 = React.useState(0),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      scrollTop = _React$useState8[0],\n      setScrollTop = _React$useState8[1];\n\n  React.useEffect(function () {\n    getForumQuery(queryName);\n  }, []);\n\n  function getForumQuery(queryName) {\n    fetch(\"\".concat(BaseUrl, \"/apiV2/forumQueries\"), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        expertiseId: \"\",\n        limit: 100,\n        skip: 0\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      // const test = {\n      // \texpertise: res[0].expertise,\n      // \texpertiseId: res[0].expertiseId,\n      // \timage: res[0].image,\n      // \tqueryText: res[0].queryText,\n      // \tqueryTitle: res[0].queryTitle,\n      // \tqueryType: res[0].queryType,\n      // \tsubExpertise: res[0].subExpertise,\n      // \ttimestamp: res[0].timestamp,\n      // \tuserId: res[0].userId,\n      // \t_id: res[0]._id,\n      // \tanswers: [\n      // \t\t{\n      // \t\t\tanswer: res[0].answers.answer,\n      // \t\t\tcreatedAt: res[0].answers.createdAt,\n      // \t\t\tconsultant: {\n      // \t\t\t\t_id: res[0].answers.consultant._id,\n      // \t\t\t\tname: res[0].answers.consultant.name,\n      // \t\t\t\texpertise: res[0].answers.consultant.expertise,\n      // \t\t\t\timage: res[0].answers.consultant.image\n      // \t\t\t}\n      // \t\t}\n      // \t],\n      // \theight: 200\n      // };\n      // console.log(test);\n      var t = query.concat(res.queries);\n      setQuery(t);\n    });\n  }\n\n  function onScroll() {\n    setSkip(skip + 1);\n    var scrollY = window.scrollY; //Don't get confused by what's scrolling - It's not the window\n\n    var scrollTops = myRef.current.scrollTop;\n    setScrollTop(scrollTops); // getForumQuery(queryName);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Banner, {\n    BanerItems: homeBanner\n  }), __jsx(Container, null, __jsx(Row, null, __jsx(Column, {\n    md: 12,\n    sm: 12,\n    xs: 12\n  }, __jsx(\"div\", {\n    ref: myRef,\n    onScroll: onScroll,\n    style: {\n      overflow: \"scroll\",\n      height: \"100vh\"\n    }\n  }, __jsx(Question, {\n    QuestionItems: query\n  }))))), __jsx(Chat, null));\n}","map":null,"metadata":{},"sourceType":"module"}