{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { List, AutoSizer, CellMeasurer, InfiniteLoader } from \"react-virtualized\";\nimport { Container } from \"styled-container-component\";\nimport { Column, Row } from \"styled-grid-system-component\";\nimport { Banner } from \"./banner/banner\";\nimport { Question } from \"./question/question\";\nimport { homeBanner } from \"./data\";\nimport { BaseUrl } from \"../url\";\nimport { Chat } from \"./chat/chat\";\nexport function ForumLayout(_ref) {\n  var _this = this;\n\n  var queryName = _ref.queryName;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      query = _React$useState2[0],\n      setQuery = _React$useState2[1];\n\n  React.useEffect(function () {\n    getForumQuery(queryName);\n  }, []);\n\n  function getForumQuery(queryName) {\n    fetch(\"\".concat(BaseUrl, \"/apiV2/forumQueries\"), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        expertiseId: \"\",\n        limit: 100,\n        skip: 0\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setQuery(res.queries);\n    });\n  }\n\n  function rowRenderer(_ref2) {\n    var index = _ref2.index,\n        parent = _ref2.parent,\n        key = _ref2.key,\n        style = _ref2.style;\n    return __jsx(CellMeasurer, {\n      key: key,\n      cache: this.cellMeasurerCache,\n      parent: parent,\n      columnIndex: 0,\n      rowIndex: index\n    }, __jsx(Question, {\n      QuestionItems: query[index]\n    }));\n  }\n\n  function isRowLoaded(_ref3) {\n    var index = _ref3.index;\n    return !!query[index];\n  }\n\n  this.cellMeasurerCache.clearAll();\n  this.infiniteLoaderRef.resetLoadMoreRowsCache();\n  return __jsx(React.Fragment, null, __jsx(Banner, {\n    BanerItems: homeBanner\n  }), __jsx(Container, null, __jsx(Row, null, __jsx(Column, {\n    md: 12,\n    sm: 12,\n    xs: 12\n  }, __jsx(InfiniteLoader, {\n    isRowLoaded: isRowLoaded,\n    loadMoreRows: getForumQuery,\n    rowCount: 10000000,\n    ref: function ref(_ref6) {\n      return _this.infiniteLoaderRef = _ref6;\n    }\n  }, function (_ref4) {\n    var onRowsRendered = _ref4.onRowsRendered,\n        registerChild = _ref4.registerChild;\n    return __jsx(AutoSizer, null, function (_ref5) {\n      var width = _ref5.width,\n          height = _ref5.height;\n      return __jsx(List, {\n        rowCount: query.length,\n        width: width,\n        height: height,\n        rowHeight: _this.cellMeasurerCache.rowHeight,\n        rowRenderer: rowRenderer,\n        deferredMeasurementCache: _this.cellMeasurerCache,\n        overscanRowCount: 2,\n        onRowsRendered: onRowsRendered,\n        ref: function ref(el) {\n          _this.listRef = el;\n          registerChild(el);\n        }\n      });\n    });\n  })))), __jsx(Chat, null));\n}","map":null,"metadata":{},"sourceType":"module"}